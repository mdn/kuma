{% for provider in socialaccount.providers %}
{% if provider.id == "openid" %}
{% for brand in provider.get_brands %}
<a title="{{brand.name}}"
     class="socialaccount_provider {{provider.id}} {{brand.id}}"
     href="{{ provider_login_url(provider.id, openid=brand.openid_url, process=process) }}"
     >{{brand.name}}</a>
{% endfor %}
{% endif %}
{% if provider.id == "persona" %}
  <a href="{{ provider_login_url(provider.id, process=process) }}" class="persona-button persona-loaded login-link" data-next="{{ next_url }}" data-service="{{ provider.name }}">
    <span class="persona-icon"><i aria-hidden="true"></i></span>
    <span class="signin">{{ _('Sign in with Persona') }}</span>
  </a>
{% elif provider.id == "github" %}
  {% if waffle.flag('oauth_login') %}
  <a href="{{ provider_login_url(provider.id, process=process) }}" class="github-button login-link" data-next="{{ next_url }}" data-service="{{ provider.name }}">
    <span class="github-icon"><i class="icon-github" aria-hidden="true"></i></span>
    <span class="signin">{{ _('Sign in with GitHub') }}</span>
  </a>
  {% endif %}
{# {% else %}
  <a title="{{provider.name}}" class="socialaccount_provider {{provider.id}}" href="{{ provider_login_url(provider.id, process=process) }}">{{provider.name}}</a> #}
{% endif %}
{% endfor %}
