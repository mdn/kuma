!function(t){"use strict";t(".search-results-filters").on("change","input",function(){t("#search-form").submit(),t(this).parents("fieldset").attr("disabled","disabled")})}(jQuery),function(t){"use strict";var e=function(){var e="mdn.search",a=["key","data"],r=function(t){return e+"."+t};return{flush:function(){var e=this;t.each(a,function(t,a){e.removeItem(a)})},serialize:function(t){return JSON.stringify(t)},deserialize:function(t){if("string"!=typeof t)return void 0;try{return JSON.parse(t)}catch(e){return t||void 0}},getItem:function(t){return this.deserialize(sessionStorage.getItem(r(t)))},setItem:function(t,e){return sessionStorage.setItem(r(t),this.serialize(e))},removeItem:function(t){return sessionStorage.removeItem(r(t))}}}();t("body").hasClass("search-navigator-flush")&&e.flush(),t.fn.mozSearchResults=function(a){var r,n,i,s=e.getItem("key"),c=t(".from-search-next"),o=t(".from-search-previous");if(s||a){var u=function(e){if(e&&e.documents&&e.documents.length){var a,i,s=t("body").data("slug"),u=document.createDocumentFragment();e.query&&t("#main-q").attr("data-value",e.query),t.each(e.documents,function(){this.slug===s&&(a=this.slug)}),a&&(t(".from-search-navigate-wrap").removeClass("hidden"),i=t(".from-search-toc ol"),i.on("click","a",function(){mdn.analytics.trackEvent({category:"Search doc navigator",action:"Click",label:t(this).attr("href"),value:a})}),t.each(e.documents,function(a,i){var l=t("<a>",{text:i.title,href:i.url});i.slug===s&&(l.addClass("current"),r=e.documents[a+1],r?c.attr("href",r.url).on("click",function(){mdn.analytics.trackEvent({category:"Search doc navigator",action:"Click next",label:r.url,value:r.id})}).removeClass("disabled"):c.attr("title",c.attr("data-empty-title")),n=e.documents[a-1],n?o.attr("href",n.url).on("click",function(){mdn.analytics.trackEvent({category:"Search doc navigator",action:"Click previous",label:n.url,value:n.id})}).removeClass("disabled"):o.attr("title",c.attr("data-empty-title"))),u.appendChild(t("<li></li>").append(l).get(0))}),i.append(u),t("#wiki-document-head").addClass("from-search"))}};return a?e.setItem("key",a):s&&(a=s),i=e.getItem("data"),i?u(i):t.ajax({url:a,dataType:"json",success:function(t){e.setItem("data",t),u(t)},error:function(t,e,r){console.error(a,e,r.toString())}}),this}}}(jQuery);