{
    "iTotalRecords": "{{ total_records }}",
    "iTotalDisplayRecords": "{{ total_records }}",
    "aaData" : [
{% for rev in revisions %}
        {% set from = (rev.get_previous().id or rev.id) %}
        {% set doc_url = url('wiki.document', rev.document.full_path, locale=rev.document.locale) %}
        {% set comment = rev.comment if rev.comment else "" %}
        {
        "id": "{{ rev.id }}",
        "prev_id": "{{ from }}",
        "doc_url": "{{ doc_url }}",
        "edit_url": "{{ url('wiki.edit_document', rev.document.full_path, locale=rev.document.locale) }}",
        "compare_url": "{{ url('wiki.compare_revisions', rev.document.full_path) }}?from={{ from }}&to={{ rev.id }}&raw=1",
        "revert_url": "{{ url('wiki.revert_document', rev.document.full_path, rev.id) }}",
        "history_url": "{{ url('wiki.document_revisions', rev.document.full_path, locale=rev.document.locale) }}",
        "creator": "<a href='' class='creator'>{{ rev.creator }}</a>",
        "title": "{{ rev.title }}",
        "richTitle": "<a href='{{ doc_url }}' target='_blank'>{{ rev.document.slug }}</a><span class='dash-locale'>{{ rev.document.locale }}</span><span class='dashboard-comment'>{{ comment }}</span>",
        "date": "{{ datetimeformat(rev.created, format="date", output="json") }} - {{ datetimeformat(rev.created, format="time", output="json") }}"
        }{% if not loop.last%},{% endif %}

{% endfor %}
    ]
}