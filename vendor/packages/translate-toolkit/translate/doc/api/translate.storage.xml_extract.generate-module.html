<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>translate.storage.xml_extract.generate</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="translate-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://translate.sourceforge.net/wiki/toolkit/index">Translate Toolkit</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="translate-module.html">Package&nbsp;translate</a> ::
        <a href="translate.storage-module.html">Package&nbsp;storage</a> ::
        <a href="translate.storage.xml_extract-module.html">Package&nbsp;xml_extract</a> ::
        Module&nbsp;generate
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="translate.storage.xml_extract.generate-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module generate</h1><p class="nomargin-top"><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html">source&nbsp;code</a></span></p>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#_get_tag_arrays" class="summary-sig-name" onclick="show_private();">_get_tag_arrays</a>(<span class="summary-sig-arg">dom_node</span>)</span><br />
      Return a dictionary indexed by child tag names, where each tag is 
      associated with an array of all the child nodes with matching the tag
      name, in the order in which they appear as children of dom_node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_get_tag_arrays">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#apply_translations" class="summary-sig-name">apply_translations</a>(<span class="summary-sig-arg">dom_node</span>,
        <span class="summary-sig-arg">unit_node</span>,
        <span class="summary-sig-arg">do_translate</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#apply_translations">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#reduce_dom_tree" class="summary-sig-name">reduce_dom_tree</a>(<span class="summary-sig-arg">f</span>,
        <span class="summary-sig-arg">dom_node</span>,
        <span class="summary-sig-arg">*state</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#reduce_dom_tree">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#find_dom_root" class="summary-sig-name">find_dom_root</a>(<span class="summary-sig-arg">parent_dom_node</span>,
        <span class="summary-sig-arg">dom_node</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#find_dom_root">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#find_placeable_dom_tree_roots" class="summary-sig-name">find_placeable_dom_tree_roots</a>(<span class="summary-sig-arg">unit_node</span>)</span><br />
      For an inline placeable, find the root DOM node for the placeable in 
      its parent.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#find_placeable_dom_tree_roots">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#_map_source_dom_to_doc_dom" class="summary-sig-name" onclick="show_private();">_map_source_dom_to_doc_dom</a>(<span class="summary-sig-arg">unit_node</span>,
        <span class="summary-sig-arg">source_dom_node</span>)</span><br />
      Creating a mapping from the DOM nodes in source_dom_node which 
      correspond to placeables, with DOM nodes in the XML document template
      (this information is obtained from unit_node).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_map_source_dom_to_doc_dom">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#_map_target_dom_to_source_dom" class="summary-sig-name" onclick="show_private();">_map_target_dom_to_source_dom</a>(<span class="summary-sig-arg">source_dom_node</span>,
        <span class="summary-sig-arg">target_dom_node</span>)</span><br />
      Associate placeables in source_dom_node and target_dom_node which 
      have the same 'id' attributes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_map_target_dom_to_source_dom">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_build_target_dom_to_doc_dom"></a><span class="summary-sig-name">_build_target_dom_to_doc_dom</span>(<span class="summary-sig-arg">unit_node</span>,
        <span class="summary-sig-arg">source_dom</span>,
        <span class="summary-sig-arg">target_dom</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_build_target_dom_to_doc_dom">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#_get_translated_node" class="summary-sig-name" onclick="show_private();">_get_translated_node</a>(<span class="summary-sig-arg">target_node</span>,
        <span class="summary-sig-arg">target_dom_to_doc_dom</span>)</span><br />
      Convenience function to get node corresponding to 'target_node' and 
      to assign the tail text of 'target_node' to this node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_get_translated_node">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#_build_translated_dom" class="summary-sig-name" onclick="show_private();">_build_translated_dom</a>(<span class="summary-sig-arg">dom_node</span>,
        <span class="summary-sig-arg">target_node</span>,
        <span class="summary-sig-arg">target_dom_to_doc_dom</span>)</span><br />
      Use the &quot;shape&quot; of 'target_node' (which is a DOM tree) to 
      insert nodes into the DOM tree rooted at 'dom_node'.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_build_translated_dom">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.xml_extract.generate-module.html#replace_dom_text" class="summary-sig-name">replace_dom_text</a>(<span class="summary-sig-arg">make_parse_state</span>)</span><br />
      Return a function:</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#replace_dom_text">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <span title="lxml.etree">etree</span>,
  <a href="translate.storage.base-module.html" title="translate.storage.base">base</a>,
  <a href="translate.misc.typecheck-module.html#_null_decorator" title="translate.misc.typecheck.accepts">accepts</a>,
  <a href="translate.misc.typecheck.IsCallable-class.html" title="translate.misc.typecheck.IsCallable">IsCallable</a>,
  <a href="translate.misc.typecheck.Any-class.html" title="translate.misc.typecheck.Any">Any</a>,
  <a href="translate.storage.xml_extract.misc-module.html" title="translate.storage.xml_extract.misc">misc</a>,
  <a href="translate.storage.xml_extract.extract-module.html" title="translate.storage.xml_extract.extract">extract</a>,
  <a href="translate.storage.xml_extract.unit_tree-module.html" title="translate.storage.xml_extract.unit_tree">unit_tree</a>,
  <a href="translate.storage.xml_name.XmlNamer-class.html" title="translate.storage.xml_name.XmlNamer">XmlNamer</a>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_get_tag_arrays"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_get_tag_arrays</span>(<span class="sig-arg">dom_node</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_get_tag_arrays">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return a dictionary indexed by child tag names, where each tag is 
  associated with an array of all the child nodes with matching the tag 
  name, in the order in which they appear as children of dom_node.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>xml = <span class="py-string">'&lt;a&gt;&lt;b&gt;&lt;/b&gt;&lt;c&gt;&lt;/c&gt;&lt;b&gt;&lt;/b&gt;&lt;d/&gt;&lt;/a&gt;'</span>
<span class="py-prompt">&gt;&gt;&gt; </span>element = etree.fromstring(xml)
<span class="py-prompt">&gt;&gt;&gt; </span>get_tag_arrays(element)
<span class="py-output">{'b': [&lt;Element a at 84df144&gt;, &lt;Element a at 84df148&gt;], 'c': [&lt;Element a at 84df120&gt;], 'd': [&lt;Element a at 84df152&gt;]}</span></pre>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(etree._Element)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="apply_translations"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">apply_translations</span>(<span class="sig-arg">dom_node</span>,
        <span class="sig-arg">unit_node</span>,
        <span class="sig-arg">do_translate</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#apply_translations">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(etree._Element, unit_tree.XPathTree, extract.Translatable, IsCallable())</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="reduce_dom_tree"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">reduce_dom_tree</span>(<span class="sig-arg">f</span>,
        <span class="sig-arg">dom_node</span>,
        <span class="sig-arg">*state</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#reduce_dom_tree">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(IsCallable(), etree._Element, vargs= [Any()])</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="find_dom_root"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">find_dom_root</span>(<span class="sig-arg">parent_dom_node</span>,
        <span class="sig-arg">dom_node</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#find_dom_root">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(etree._Element, etree._Element)</code></li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a 
        href="translate.storage.xml_extract.generate-module.html#find_placeable_dom_tree_roots"
        class="link">find_placeable_dom_tree_roots</a>
      </p>
</div></td></tr></table>
</div>
<a name="find_placeable_dom_tree_roots"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">find_placeable_dom_tree_roots</span>(<span class="sig-arg">unit_node</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#find_placeable_dom_tree_roots">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>For an inline placeable, find the root DOM node for the placeable in 
  its parent.</p>
  <p>Consider the diagram. In this pseudo-ODF example, there is an inline 
  span element. However, the span is contained in other tags (which we 
  never process). When splicing the template DOM tree (that is, the DOM 
  which comes from the XML document we're using to generate a translated 
  XML document), we'll need to move DOM sub-trees around and we need the 
  roots of these sub-trees:</p>
<pre class="literalblock">
   &lt;p&gt; This is text \/                &lt;- Paragraph containing an inline placeable
                    &lt;blah&gt;            &lt;- Inline placeable's root (which we want to find)
                    ...               &lt;- Any number of intermediate DOM nodes
                    &lt;span&gt; bold text  &lt;- The inline placeable's Translatable 
                                         holds a reference to this DOM node    
</pre>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(extract.Translatable)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_map_source_dom_to_doc_dom"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_map_source_dom_to_doc_dom</span>(<span class="sig-arg">unit_node</span>,
        <span class="sig-arg">source_dom_node</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_map_source_dom_to_doc_dom">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creating a mapping from the DOM nodes in source_dom_node which 
  correspond to placeables, with DOM nodes in the XML document template 
  (this information is obtained from unit_node). We are interested in DOM 
  nodes in the XML document template which are the roots of placeables. See
  the diagram below, as well as <a 
  href="translate.storage.xml_extract.generate-module.html#find_placeable_dom_tree_roots"
  class="link">find_placeable_dom_tree_roots</a>.</p>
  <p>XLIFF Source (below):</p>
<pre class="literalblock">
   &lt;source&gt;This is text &lt;g&gt; bold text&lt;/g&gt; and a footnote&lt;x/&gt;&lt;/source&gt; 
                        /                                 \________
                       /                                           \ 
   &lt;p&gt;This is text&lt;blah&gt;...&lt;span&gt; bold text&lt;/span&gt;...&lt;/blah&gt; and &lt;note&gt;...&lt;/note&gt;&lt;/p&gt;
</pre>
  <p>Input XML document used as a template (above)</p>
  <p>In the above diagram, the XLIFF source DOM node &lt;g&gt; is 
  associated with the XML document DOM node &lt;blah&gt;, whereas the XLIFF
  source DOM node &lt;x&gt; is associated with the XML document DOM node 
  &lt;note&gt;.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(extract.Translatable, etree._Element)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_map_target_dom_to_source_dom"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_map_target_dom_to_source_dom</span>(<span class="sig-arg">source_dom_node</span>,
        <span class="sig-arg">target_dom_node</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_map_target_dom_to_source_dom">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Associate placeables in source_dom_node and target_dom_node which have
  the same 'id' attributes.</p>
  <p>We're using XLIFF placeables. The XLIFF standard requires that 
  placeables have unique ids. The id of a placeable is never modified, 
  which means that even if placeables are moved around in a translation, we
  can easily associate placeables from the source text with placeables in 
  the target text.</p>
  <p>This function does exactly that.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(etree._Element, etree._Element)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_get_translated_node"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_get_translated_node</span>(<span class="sig-arg">target_node</span>,
        <span class="sig-arg">target_dom_to_doc_dom</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_get_translated_node">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Convenience function to get node corresponding to 'target_node' and to
  assign the tail text of 'target_node' to this node.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(etree._Element, {etree._Element: etree._Element})</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_build_translated_dom"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_build_translated_dom</span>(<span class="sig-arg">dom_node</span>,
        <span class="sig-arg">target_node</span>,
        <span class="sig-arg">target_dom_to_doc_dom</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#_build_translated_dom">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Use the &quot;shape&quot; of 'target_node' (which is a DOM tree) to 
  insert nodes into the DOM tree rooted at 'dom_node'.</p>
  <p>The mapping 'target_dom_to_doc_dom' is used to map nodes from 
  'target_node' to nodes which much be inserted into dom_node.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(etree._Element, etree._Element, {etree._Element: etree._Element})</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="replace_dom_text"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">replace_dom_text</span>(<span class="sig-arg">make_parse_state</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.xml_extract.generate-pysrc.html#replace_dom_text">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return a function:</p>
<pre class="literalblock">
   action: etree_Element x base.TranslationUnit -&gt; None
</pre>
  <p>which takes a dom_node and a translation unit. The dom_node is 
  rearranged according to rearrangement of placeables in unit.target 
  (relative to their positions in unit.source).</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(IsCallable())</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="translate-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://translate.sourceforge.net/wiki/toolkit/index">Translate Toolkit</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Wed Mar  3 16:35:57 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
