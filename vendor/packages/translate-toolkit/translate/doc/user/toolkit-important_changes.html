<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title></title>
  <link rel="stylesheet" media="screen" type="text/css" href="./style.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="./design.css" />
  <link rel="stylesheet" media="print" type="text/css" href="./print.css" />

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<a href=.>start</a></br>



<h1><a name="important_changes" id="important_changes">Important Changes</a></h1>
<div class="level1">

<p>

The Translate Toolkit might have changed how it functions in certain cases.  This page lists what has changed, how it
might affect you and how to work around the change either to bring your files in line or to use the old behaviour if required.
</p>

</div>
<!-- SECTION "Important Changes" [1-286] -->
<h2><a name="trunk" id="trunk">trunk</a></h2>
<div class="level2">

<p>
This section describes the changes in the (unreleased) development files. It should reflect upcoming changes in the next version of the toolkit and latest <a href="http://translate.sourceforge.net/snapshots/" class="urlextern" title="http://translate.sourceforge.net/snapshots/">beta or rc release</a>.
</p>

</div>
<!-- SECTION "trunk" [287-528] -->
<h3><a name="po_files_now_always_have_headers" id="po_files_now_always_have_headers">PO files now always have headers</a></h3>
<div class="level3">

<p>
Generated <acronym title="Gettext Portable Object">PO</acronym> files now always contain headers. This will mainly affect the output of pofilter and pogrep. This should allow better interoperability with gettext tools, and allowed for some improvement in the code.  You should still be able to use headerless files in msgmerge, although it is recommended that <acronym title="Gettext Portable Object">PO</acronym> files are consistently handled with headers wherever possible.
</p>

</div>
<!-- SECTION "PO files now always have headers" [529-947] -->
<h2><a name="section" id="section">1.4.1</a></h2>
<div class="level2">

</div>
<!-- SECTION "1.4.1" [948-966] -->
<h3><a name="csv_column_header_names" id="csv_column_header_names">CSV column header names</a></h3>
<div class="level3">

<p>

The names given to <acronym title="Comma Separated Value">CSV</acronym> column headers have been changed. Early releases of csv2po and po2csv would name the columns “comment,original,translation”.  This was done mostly to make it easy for non-technical translators.  However, comments in the command line help used terms like source and target.  This release changes the column header names to “location,source,target”, this aligns with terms used throughout the toolkit.
</p>

<p>
If you have <acronym title="Comma Separated Value">CSV</acronym> file generated by older versions of the toolkit then a header entry of “comment,original,translation” will be turned into a unit instead of being ignored.  You can either change your <acronym title="Comma Separated Value">CSV</acronym> file to use the headers “location,source,target” or delete the header row completely.  Once this is done the files will work as expected.
</p>

</div>
<!-- SECTION "CSV column header names" [967-1767] -->
<h2><a name="section1" id="section1">1.4.0</a></h2>
<div class="level2">

</div>
<!-- SECTION "1.4.0" [1768-1786] -->
<h3><a name="java_and_mozilla_.properties" id="java_and_mozilla_.properties">Java and Mozilla .properties</a></h3>
<div class="level3">

<p>
Unusual keys, separators and spacing should all be handled correctly now. Some Mozilla .properties files might now have changed. Regenerate your Mozilla l10n files from fresh <acronym title="Gettext Portable Object Template">POT</acronym> files without any changes to your <acronym title="Gettext Portable Object">PO</acronym> files to ensure that you can see and review these changes.
</p>

</div>
<!-- SECTION "Java and Mozilla .properties" [1787-2101] -->
<h3><a name="hashing_in_podebug" id="hashing_in_podebug">Hashing in podebug</a></h3>
<div class="level3">

<p>
The --hash option in <a href="toolkit-podebug.html" class="wikilink1" title="toolkit-podebug.html">podebug</a> has been replaced by a format specifier %h to be able to better control the positioning of the hash value.
</p>

</div>
<!-- SECTION "Hashing in podebug" [2102-2271] -->
<h2><a name="section2" id="section2">1.3.0</a></h2>
<div class="level2">

<p>
Several duplicate styles were removed as has been warned about long before. Please check the recommendations posted at the time that msgctxt was added on how to migrate.
</p>

</div>
<!-- SECTION "1.3.0" [2272-2460] -->
<h2><a name="section3" id="section3">1.2</a></h2>
<div class="level2">

</div>
<!-- SECTION "1.2" [2461-2477] -->
<h3><a name="new_formats" id="new_formats">New formats</a></h3>
<div class="level3">

<p>

The toolkit now supports:

</p>
<ul>
<li class="level1"><div class="li"> <a href="toolkit-qt_phrase_book.html" class="wikilink1" title="toolkit-qt_phrase_book.html">Qt Phrase Book</a></div>
</li>
<li class="level1"><div class="li"> Qt <a href="toolkit-ts.html" class="wikilink1" title="toolkit-ts.html">.ts</a> v1.1</div>
</li>
</ul>

<p>

This allows reading, counting and working on these formats.  The <a href="toolkit-ts2po.html" class="wikilink1" title="toolkit-ts2po.html">ts2po</a> converter has not been changed so you will not be able to benefit from the new .ts support. However, you can use the format for translation memory, etc as its is now fully base class compliant.
</p>

</div>
<!-- SECTION "New formats" [2478-2841] -->
<h3><a name="stats_database_change" id="stats_database_change">Stats database change</a></h3>
<div class="level3">

<p>
There were some changes in the database used by pocount for storing statistics. The location of the database might also have changed, depending on what the last version is that you used. Remove the file stats.db from any of ~/.translate_toolkit, ~/.wordforge (or the corresponding directories on your Windows installation.
</p>

</div>
<!-- SECTION "Stats database change" [2842-3197] -->
<h3><a name="valid_accelerators" id="valid_accelerators">Valid accelerators</a></h3>
<div class="level3">

<p>

The <a href="toolkit-pofilter.html" class="wikilink1" title="toolkit-pofilter.html">pofilter</a> accelerator test is now able to make use of a list of valid accelerators.  This allows translators to control the behaviour of the test for their language and add or remove characters that can be used as accelerators.  Please define <a href="l10n-valid_accelerators.html" class="wikilink1" title="l10n-valid_accelerators.html">valid accelerators</a> for your language and these will then be included in future releases of the toolkit.  By default the old process if followed so if you take no action then this check will continue to work as expected.
</p>

</div>
<!-- SECTION "Valid accelerators" [3198-3708] -->
<h2><a name="branches" id="branches">branches</a></h2>
<div class="level2">

<p>

These are branches that contain quite invasive changes that will most likely be merged into the main development and be released sometime in the future.
</p>

</div>
<!-- SECTION "branches" [3709-3885] -->
<h3><a name="toolkit-c-po" id="toolkit-c-po">toolkit-C-po</a></h3>
<div class="level3">

<p>

Converting the current Python based <acronym title="Gettext Portable Object">PO</acronym> parser to the Gettext C based parser for <acronym title="Gettext Portable Object">PO</acronym>.  This offers quite a dramatic speed improvement and conformance to the output found in Gettext itself.  For most users there will be a number of changes in layout of the files as they will now conform fully to Gettext layout.  The &#039;keep&#039; option in --duplicatestyle will no longer be supported as this is not valid Gettext output.
</p>

</div>
<!-- SECTION "toolkit-C-po" [3886-4324] -->
<h2><a name="section4" id="section4">1.1.1</a></h2>
<div class="level2">

</div>
<!-- SECTION "1.1.1" [4325-4343] -->
<h3><a name="premature_termination_of_dtd_entities" id="premature_termination_of_dtd_entities">Premature termination of DTD entities</a></h3>
<div class="level3">

<p>

Although this does not occur frequently a case emerged where some <acronym title="Document Type Definition">DTD</acronym> entities where not fully extracted from the <acronym title="Document Type Definition">DTD</acronym> source.  This was fixed in bug <a href="http://bugs.locamotion.org/show_bug.cgi?id=331" class="interwiki iw_bug" title="http://bugs.locamotion.org/show_bug.cgi?id=331">331</a>.  
</p>

<p>
We expect this change to create a few new fuzzy entries.  There is no action required from the user as the next update of your <acronym title="Gettext Portable Object">PO</acronym> files will bring the correct text into your translations, if you are using a translation memory your translation might be recovered from obsolete translations.
</p>

</div>
<!-- SECTION "Premature termination of DTD entities" [4344-4849] -->
<h2><a name="section5" id="section5">1.1</a></h2>
<div class="level2">

</div>
<!-- SECTION "1.1" [4850-4867] -->
<h3><a name="oo2po_help_helpcontent2_escaping_fixed" id="oo2po_help_helpcontent2_escaping_fixed">oo2po Help (helpcontent2) escaping fixed</a></h3>
<div class="level3">

<p>

OpenOffice.org Help (helpcontent2) has notoriously contained some unreadable esacping, e.g. \\\\&lt;tag attr=\\”value\\”\\\\&gt;.  The escaping has been fixed and oo2po now understands helpcontent2 escaping while leaving the current <acronym title="Graphical User Interface">GUI</acronym> escape handling unaltered.
</p>

<p>
If you have not translated helpcontent2 then you are unaffected by this change.  If you have translated this content then you will need to follow these instructions when upgrading.
</p>

<p>
If you follow normal procedures of creating <acronym title="Gettext Portable Object Template">POT</acronym> files and upgrading your <acronym title="Gettext Portable Object">PO</acronym> files using pot2po then your strings will not match and you will obtain files with many fuzzies.  To avoid this do the following:

</p>
<ol>
<li class="level1"><div class="li"> Make sure your <acronym title="Gettext Portable Object">PO</acronym> files contain no fuzzy entries</div>
</li>
<li class="level1"><div class="li"> Use po2oo from the previous release to create and SDF file</div>
</li>
<li class="level1"><div class="li"> Upgrade to the latest Translate Toolkit with new po2oo</div>
</li>
<li class="level1"><div class="li"> Use <code>po2oo -l xx-YY your.sdf po</code> to create a new set of <acronym title="Gettext Portable Object">PO</acronym> files with correct escaping</div>
</li>
</ol>

<p>

You can choose to do this with only your helpcontent2 <acronym title="Gettext Portable Object">PO</acronym> files if needed, this will allow you to leave your <acronym title="Graphical User Interface">GUI</acronym> work in its current state.  Simply do the above procedure and discard all <acronym title="Gettext Portable Object">PO</acronym> files except helpcontent2, then move these new helpcontent2 files into your current work.
</p>

</div>
<!-- SECTION "oo2po Help (helpcontent2) escaping fixed" [4868-6117] -->
<h3><a name="prop2po_uses_developer_comments" id="prop2po_uses_developer_comments">prop2po uses developer comments</a></h3>
<div class="level3">

<p>

prop2po used to place comments found in the source .properties file in traditional translator comments, they should of course go into developer comments.    The reason for this change is twofold, it allows these comments to be correctly managed and it is part of the process of cleaning up these formats so that they are closer to the base class and can thus work with <acronym title="XML Localization Interchange File Format">XLIFF</acronym>.
</p>

<p>
For the user there will be fairly large changes as one comment format moves to the next.  It is best to <a href="toolkit-cleanup_translator_comments.html" class="wikilink1" title="toolkit-cleanup_translator_comments.html">cleanup translator comments</a> and get your translations into a fit state, i.e. no fuzzies, and then proceed with any migrations.
</p>

</div>
<!-- SECTION "prop2po uses developer comments" [6118-6775] -->
<h3><a name="moz2po_no_longer_uses_kde_comments" id="moz2po_no_longer_uses_kde_comments">moz2po no longer uses KDE comments</a></h3>
<div class="level3">

<p>

moz2po has traditionally used KDE style comments for storing comments aimed at translators.  Many translators confuse these and try to translate them.  Thus these have been moved into automatic or developer comments.  The result for many people migrating Mozilla <acronym title="Gettext Portable Object">PO</acronym> files will be that many strings will become fuzzy, you can avoid much of this by using pot2po which should intelligently be able to match without considering the KDE comments.
</p>

<p>
The best strategy is to get your translations into a relatively good shape before migration.  You can then migrate them first to a new set of <acronym title="Gettext Portable Object Template">POT</acronym> files generated from the same source files that the translation is based on.  Eliminate all fuzzies as these should only relate to the changes in layout.  Then proceed to migrate to a new set of <acronym title="Gettext Portable Object Template">POT</acronym> files.  If you cannot work against the original source files then the best would be to also first eliminate fuzzy matches before proceeding to translation.  Your fuzzies will include changes in layout and changes in content so proceed carefully.
</p>

<p>
At the end of this you should have <acronym title="Gettext Portable Object">PO</acronym> files that conform to the Gettext standard without KDE comments.
</p>

</div>
<!-- SECTION "moz2po no longer uses KDE comments" [6776-7961] -->
<h3><a name="read_and_write_mo_files" id="read_and_write_mo_files">Read and Write MO files</a></h3>
<div class="level3">

<p>

You can read and write Gettext <acronym title="Gettext Machine Object">MO</acronym> files (compiled <acronym title="Gettext Portable Object">PO</acronym> files).  Thus pocount can now count files on your filesystem and you can also compile <acronym title="Gettext Machine Object">MO</acronym> files using pocompile.  <acronym title="Gettext Machine Object">MO</acronym> files can be compiled from either <acronym title="Gettext Portable Object">PO</acronym> or <acronym title="XML Localization Interchange File Format">XLIFF</acronym> sources.
</p>

<p>
<acronym title="Gettext Machine Object">MO</acronym> will now also produce correct output for msgctxt and plural forms found in <acronym title="Gettext Portable Object">PO</acronym> files.
</p>

</div>
<!-- SECTION "Read and Write MO files" [7962-8310] -->
<h3><a name="read_qt_.qm_files" id="read_qt_.qm_files">Read Qt .qm files</a></h3>
<div class="level3">

<p>

We can now read Qt .qm files, thus pocount can count the contents of compiled files.  We cannot however write .qm files at this time.
</p>

</div>
<!-- SECTION "Read Qt .qm files" [8311-8475] -->
<h2><a name="section6" id="section6">1.0.1</a></h2>
<div class="level2">

</div>
<!-- SECTION "1.0.1" [8476-8494] -->
<h3><a name="pot2po_will_create_new_empty_po_files_if_needed" id="pot2po_will_create_new_empty_po_files_if_needed">pot2po will create new empty PO files if needed</a></h3>
<div class="level3">

<p>

From version 1.0.1, pot2po will create empty <acronym title="Gettext Portable Object">PO</acronym> files corresponding to new <acronym title="Gettext Portable Object Template">POT</acronym> files that might have been introduced. If some new <acronym title="Gettext Portable Object Template">POT</acronym> files are present in the input to pot2po, you will see a new <acronym title="Gettext Portable Object">PO</acronym> file appear in your output directory that was not in your old <acronym title="Gettext Portable Object">PO</acronym> files.  You will not lose any data but in the worst case you will see new files on projects that you thought were fully translated.
</p>

</div>
<!-- SECTION "pot2po will create new empty PO files if needed" [8495-8949] -->
<h2><a name="section7" id="section7">1.0</a></h2>
<div class="level2">

</div>
<!-- SECTION "1.0" [8950-8966] -->
<h3><a name="improved_xliff_support" id="improved_xliff_support">Improved XLIFF support</a></h3>
<div class="level3">

<p>
Many toolkit tools that only worked with <acronym title="Gettext Portable Object">PO</acronym> files before, can now also work with <acronym title="XML Localization Interchange File Format">XLIFF</acronym> files. pogrep, pocount, pomerge, and pofilter all work with <acronym title="XML Localization Interchange File Format">XLIFF</acronym>, for example.
</p>

</div>
<!-- SECTION "Improved XLIFF support" [8967-9167] -->
<h3><a name="pretty_xml_output" id="pretty_xml_output">Pretty XML output</a></h3>
<div class="level3">

<p>
All <acronym title="Extensible Markup Language">XML</acronym> formats should now be more human readable, and the converters to Qt .ts files should work correctly again.
</p>

</div>
<!-- SECTION "Pretty XML output" [9168-9311] -->
<h3><a name="fuzzy_matching_in_pot2po_is_optional" id="fuzzy_matching_in_pot2po_is_optional">Fuzzy matching in pot2po is optional</a></h3>
<div class="level3">

<p>
Fuzzy matching can now be entirely disabled in <a href="toolkit-pot2po.html" class="wikilink1" title="toolkit-pot2po.html">pot2po</a> with the --nofuzzymatching parameter. This should make it much faster, although pot2po is <strong>substantially</strong> faster than earlier versions, especially if <a href="toolkit-levenshtein_distance.html" class="wikilink1" title="toolkit-levenshtein_distance.html">python-Levenshtein</a> is installed.
</p>

</div>
<!-- SECTION "Fuzzy matching in pot2po is optional" [9312-9628] -->
<h3><a name="old_matchlevenshtein.py_can_cause_name_clash" id="old_matchlevenshtein.py_can_cause_name_clash">Old match/Levenshtein.py* can cause name clash</a></h3>
<div class="level3">

<p>
The file previously called match/Levenshtein.py was renamed to lshtein.py in order to use the python-Levenshtein package mentioned above. If you follow the basic installation instructions, the old file will not be overwritten, and can cause problems. Ensure that you remove all files starting with Levenshtein.py in the installation path of the translate toolkit, usually something like /usr/lib/python2.4/site-packages/translate/search/. It could be up to three files.
</p>

</div>
<!-- SECTION "Old match/Levenshtein.py* can cause name clash" [9629-10156] -->
<h3><a name="po_file_layout_now_follows_gettext_more_closely" id="po_file_layout_now_follows_gettext_more_closely">PO file layout now follows Gettext more closely</a></h3>
<div class="level3">

<p>

The toolkits output <acronym title="Gettext Portable Object">PO</acronym> format should now resemble Gettext <acronym title="Gettext Portable Object">PO</acronym> files more closely.  Long lines are wrapped correctly, messages with long initial lines will start with a &#039;msgid ””&#039; entry.  The reason for this change is to ensure that differences in files relate to content change not format change, no matter what tool you use.
</p>

<p>
To understand the problem more clearly.  If a user creates <acronym title="Gettext Portable Object Template">POT</acronym> files with e.g. <a href="toolkit-oo2po.html" class="wikilink1" title="toolkit-oo2po.html">oo2po</a>.  She then edits them in a <acronym title="Gettext Portable Object">PO</acronym> editor or manipulate them with the Gettext tools.  The layout of the file after manipulation was often different from the original produced by the Toolkit.  Thus making it hard to tell what where content changes as opposed to layout changes.
</p>

<p>
The changes will affect you as follows:

</p>
<ol>
<li class="level1"><div class="li"> They will only impact you when using the Toolkit tools.</div>
</li>
<li class="level1"><div class="li"> You manipulate your files with a tool that follows Gettext <acronym title="Gettext Portable Object">PO</acronym> layout </div>
<ul>
<li class="level2"><div class="li"> your experience should now improve as the new <acronym title="Gettext Portable Object">PO</acronym> files will align with your existing files</div>
</li>
<li class="level2"><div class="li"> updates should now only include real content changes not layout changes</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> You manipulate your files using Toolkit related tools or manual editing</div>
<ul>
<li class="level2"><div class="li"> your files will go through a re-layout the first time you use any of the tools</div>
</li>
<li class="level2"><div class="li"> subsequent usage should continue as normal</div>
</li>
<li class="level2"><div class="li"> any manipulation using Gettext tools will leave your files correctly layed out.</div>
</li>
</ul>
</li>
</ol>

<p>

Our suggestion is that if you are about to suffer a major reflow that your initial merge contain only reflow and update changes.  Do content changes in subsequent steps.  Once you have gone through the reflow you should see no layout changes and only content changes.
</p>

</div>
<!-- SECTION "PO file layout now follows Gettext more closely" [10157-11819] -->
<h3><a name="language_awareness" id="language_awareness">Language awareness</a></h3>
<div class="level3">

<p>
The toolkit is gradually becoming more aware of the differences between languages. Currently this mostly affects pofilter checks (and therefore also Pootle) where tests involving punctuation and capitalisation will be more aware of the differences between English and some other languages. Provisional customisation for the following languages are in place and we will welcome more work on the language module: Amharic, Arabic, Greek, Persian, French, Armenian, Japanese,  Khmer, Vietnamese, all types of Chinese.
</p>

</div>
<!-- SECTION "Language awareness" [11820-12363] -->
<h3><a name="new_pofilter_testsnewlines_and_tabs" id="new_pofilter_testsnewlines_and_tabs">New pofilter tests: newlines and tabs</a></h3>
<div class="level3">

<p>

The escapes test has been refined with two new tests, <code>newlines</code> and <code>tabs</code>.  This makes identifying the errors easier and makes it easier to control the results of the tests.  You shouldn&#039;t have to change your testing behaviour in any way.
</p>

</div>
<!-- SECTION "New pofilter tests: newlines and tabs" [12364-12658] -->
<h3><a name="merging_can_change_fuzzy_status" id="merging_can_change_fuzzy_status">Merging can change fuzzy status</a></h3>
<div class="level3">

<p>

pomerge now handles fuzzy states:

</p>
<pre class="code">pomerge -t old -i merge -o new</pre>

<p>

Messages that are fuzzy in <em>merge</em> will now also be fuzzy in <em>new</em>.  Similarly if a fuzzy state is present in <em>old</em> but removed in <em>merge</em> then the message in <em>new</em> will not be fuzzy.
</p>

<p>
Previously no fuzzy states were changed during a merge.
</p>

</div>
<!-- SECTION "Merging can change fuzzy status" [12659-13022] -->
<h3><a name="pofilter_will_make_mozilla_accelerators_a_serious_failure" id="pofilter_will_make_mozilla_accelerators_a_serious_failure">pofilter will make Mozilla accelerators a serious failure</a></h3>
<div class="level3">

<p>

If you use <a href="toolkit-pofilter.html" class="wikilink1" title="toolkit-pofilter.html">pofilter</a> with the <code>--mozilla</code> option then accelerator failures will produce a serious filter error, i.e. the message will be marked as <code>fuzzy</code>.  This has been done because accelerator problems in your translations have the potential to break Mozilla applications.
</p>

</div>
<!-- SECTION "pofilter will make Mozilla accelerators a serious failure" [13023-13375] -->
<h3><a name="po2prop_can_output_mozilla_or_java_style_properties" id="po2prop_can_output_mozilla_or_java_style_properties">po2prop can output Mozilla or Java style properties</a></h3>
<div class="level3">

<p>

We have added the --personality option to allow a user to select output in either <code>java</code>, or <code>mozilla</code> style (Java property files use escaped Unicode, while Mozilla uses actual Unicode characters).  This functionality was always available but was not exposed to the user and we always defaulted to the Mozilla style.
</p>

<p>
When using <a href="toolkit-moz2po.html" class="wikilink1" title="toolkit-moz2po.html">po2moz</a> the behaviour is not changed for the user as the programs will ensure that the properties convertor uses Mozilla style.  
</p>

<p>
However, when using <a href="toolkit-prop2po.html" class="wikilink1" title="toolkit-prop2po.html">po2prop</a> the default style is now <code>java</code>, thus if you are converting a single <code>.properties</code> file as part of a Mozilla conversion you will need to add <code>--personality=mozilla</code> to your conversion.  Thus

</p>
<pre class="code">po2prop -t moz.properties moz.properties.po my-moz.properties</pre>

<p>

Would become

</p>
<pre class="code">po2prop --personality=mozilla -t moz.properties moz.properties.po my-moz.properties</pre>

<p>

Note: output in java style escaped Unicode will still be usable by Mozilla but will be harder to read.
</p>

</div>
<!-- SECTION "po2prop can output Mozilla or Java style properties" [13376-14420] -->
<h3><a name="support_for_compressed_files" id="support_for_compressed_files">Support for compressed files</a></h3>
<div class="level3">

<p>
There is some initial support for reading from and writing to compressed files. Single files compressed with gzip or bzip2 compression is supported, but not tarballs.  Most tools don&#039;t support it, but pocount and the --tm parameter to pot2po will work with it, for example. Naturally it is slower than working with uncompressed files. Hopefully more tools can support it in future.
</p>

</div>
<!-- SECTION "Support for compressed files" [14421-14842] -->
<h2><a name="section8" id="section8">0.11</a></h2>
<div class="level2">

</div>
<!-- SECTION "0.11" [14843-14860] -->
<h3><a name="po2oo_defaults_to_not_check_for_errors" id="po2oo_defaults_to_not_check_for_errors">po2oo defaults to not check for errors</a></h3>
<div class="level3">

<p>

In po2oo we made the default <code>--filteraction=none</code> i.e. do nothing and don&#039;t warn.  Until we have a way of clearly marking false positives we&#039;ll have to disable this functionality as there is no way to quiet the output or mark non errors.  Also renamed exclude to exclude-all so that it is clearer what it does i.e. it excludes &#039;all&#039; vs excludes &#039;serious&#039;.
</p>

</div>
<!-- SECTION "po2oo defaults to not check for errors" [14861-15270] -->
<h3><a name="pofilter_xmltags_produces_less_false_positives" id="pofilter_xmltags_produces_less_false_positives">pofilter xmltags produces less false positives</a></h3>
<div class="level3">

<p>

In the xmltags check we handle the case where we had some false positives. E.g. ”&lt;Error&gt;” which looks like <acronym title="Extensible Markup Language">XML</acronym>/<acronym title="HyperText Markup Language">HTML</acronym> but should actually be translated. These are handled by 
</p>
<ol>
<li class="level1"><div class="li"> identifying them as being the same length as the source text,</div>
</li>
<li class="level1"><div class="li"> not containing any &#039;=&#039; sign.  Thus the following would not be detected by this hack. “An &lt;Error&gt; occurred” → ”&lt;Error name=“bob”&gt;”, but these ones need human eyes anyway.</div>
</li>
</ol>

</div>
<!-- SECTION "pofilter xmltags produces less false positives" [15271-15743] -->
<h2><a name="section9" id="section9">0.10</a></h2>
<div class="level2">

</div>
<!-- SECTION "0.10" [15744-15761] -->
<h3><a name="po_to_xliff_conversion" id="po_to_xliff_conversion">PO to XLIFF conversion</a></h3>
<div class="level3">

<p>

Conversion from <acronym title="Gettext Portable Object">PO</acronym> to <acronym title="XML Localization Interchange File Format">XLIFF</acronym> is greatly improved in 0.10 and this was done according to the specification at <a href="http://xliff-tools.freedesktop.org/wiki/Projects/XliffPoGuide" class="urlextern" title="http://xliff-tools.freedesktop.org/wiki/Projects/XliffPoGuide">http://xliff-tools.freedesktop.org/wiki/Projects/XliffPoGuide</a> - please let us know if there are features lacking.
</p>

</div>
<!-- SECTION "PO to XLIFF conversion" [15762-16018] -->
<h3><a name="pot2po_can_replace_msgmerge" id="pot2po_can_replace_msgmerge">pot2po can replace msgmerge</a></h3>
<div class="level3">

<p>

<a href="toolkit-pot2po.html" class="wikilink1" title="toolkit-pot2po.html">pot2po</a> has undergone major changes which means that it now respects your header entries, can resurrect obsolete messages,
does fuzzy matching using <a href="toolkit-levenshtein_distance.html" class="wikilink1" title="toolkit-levenshtein_distance.html">Levenshtein distance</a> algorithm, will correctly match messages with KDE style comments and can use an external Translation Memory.  You can now use pot2po instead of Gettext&#039;s msgmerge and it can also replace <a href="toolkit-pomigrate2.html" class="wikilink1" title="toolkit-pomigrate2.html">pomigrate2</a>.  You may still want to use pomigrate2 if there
where file movements between versions as pot2po can still not do intelligent matching of <acronym title="Gettext Portable Object">PO</acronym> and <acronym title="Gettext Portable Object Template">POT</acronym> files, pomigrate2 has also been adapted so that it can use pot2po as it background merging tool.

</p>
<pre class="code">pomigrate2 --use-compendium --pot2po &lt;old&gt; &lt;pot&gt; &lt;new&gt;</pre>

<p>

This will migrate file with a compendium built from <acronym title="Gettext Portable Object">PO</acronym> files in <em>&lt;old&gt;</em> and will use pot2po as its conversion engine.
</p>

</div>
<!-- SECTION "pot2po can replace msgmerge" [16019-16861] -->
<h3><a name="properties_pretty_formatting" id="properties_pretty_formatting">.properties pretty formatting</a></h3>
<div class="level3">

<p>

When using templates for generating translated .properties files we will now preserve the formatting around the equal sign.

</p>
<pre class="code"># Previously if the template had
property     =      value</pre>
<pre class="code"># We output
property=translation</pre>
<pre class="code"># We will now output
property     =      translation</pre>

<p>

This change ensures that there is less noise when checking differences against the template file.  However, there will be quite a bit of noise when you make your first .properties commits with the new pretty layout.  Our suggestion is that you make a single commit of .properties files without changes of translations to gt the formatting correct.
</p>

</div>
<!-- SECTION ".properties pretty formatting" [16862-17536] -->
<h2><a name="section10" id="section10">0.9</a></h2>
<div class="level2">

</div>
<!-- SECTION "0.9" [17537-17554] -->
<h3><a name="escaping_-_dtd_files_are_no_longer_escaped" id="escaping_-_dtd_files_are_no_longer_escaped">Escaping - DTD files are no longer escaped</a></h3>
<div class="level3">

<p>

Previously each converter handled escaping, which made it a nightmare every time 
we identified an escaping related error or added a new format.  Escaping has now 
been moved into the format classes as much as possible, the result being that
formats exchange Python strings and manage their own escaping.
</p>

<p>
I doing this migration we revisited some of the format migration.  We found that we
were escaping elements in our output <acronym title="Document Type Definition">DTD</acronym> files.  <acronym title="Document Type Definition">DTD</acronym>&#039;s should have no escaping ie \n is 
a literal &#039;\&#039; followed by an &#039;n&#039; not a newline.
</p>

<p>
A result of this change is that older <acronym title="Gettext Portable Object">PO</acronym> files will have different escaping to what 
po2moz will now expect. Probably resulting in bad output .dtd files.
</p>

<p>
We did not make this backward compatible as the fix is relatively simple and is one 
you would have done for any migration of your <acronym title="Gettext Portable Object">PO</acronym> files.
</p>
<pre class="code bash"><span class="co0"># 1. Create a new set of POT files</span>
moz2po -P mozilla pot 
<span class="co0"># 2. Migrate your old PO files</span>
pomigrate2 old new pot
<span class="co0"># 3a. Fix all the fuzzy translations by editing your PO files</span>
<span class="co0"># 3b. Use pofilter to check for escaping problems and fix them</span>
pofilter -t escapes new new-check
<span class="co0"># Edit file in new-check in your PO editor</span>
pomerge -t new -i new-check -o new-check</pre>
</div>
<!-- SECTION "Escaping - DTD files are no longer escaped" [17555-18809] -->
<h3><a name="migration_to_base_class" id="migration_to_base_class">Migration to base class</a></h3>
<div class="level3">

<p>

All filters are/have been migrate to a base class.  This move is so that it is easier to add new format, interchange formats 
and to create converters.  Thus xx2po and xx2xlf become easier to create.  Also adding a new format should be as simple as 
working towards the <acronym title="Application Programming Interface">API</acronym> exposed in the base class. An unexpected side effect will be the Pootle should be able to work directly
with any base class file (although that will not be the normal Pootle operation)
</p>

<p>
We have checks in place to ensure the the current operation remains correct.  
However, nothing is perfect and unfortunately the only way to 
really expose all bugs is to release this software.
</p>

<p>
If you discover a bug please report it on Bugzilla or on the Pootle mailing list.  If you
have the skills please check on HEAD to see if it is not already fixed and if you regard
it as critical discuss on the mailing list backporting the fix (note some fixes will not
be backported because they may be too invasive for the stable branch).  If you are a developer
please write a test to expose the bug and a fix if possible.
</p>

</div>
<!-- SECTION "Migration to base class" [18810-19924] -->
<h3><a name="duplicate_merging_in_po_files_-_merge_now_the_default" id="duplicate_merging_in_po_files_-_merge_now_the_default">Duplicate Merging in PO files - merge now the default</a></h3>
<div class="level3">

<p>

We added the --duplicatestyle option to allow duplicate messages to be merged, commented or simply appear in the <acronym title="Gettext Portable Object">PO</acronym> unmerged.  
Initially we used the msgid_comments options as the default.  This adds a KDE style comment to all affected messages which created a good 
balance allowing users to see duplicates in the <acronym title="Gettext Portable Object">PO</acronym> file but still create a valid <acronym title="Gettext Portable Object">PO</acronym> file.
</p>

<p>
&#039;msgid_comments&#039; was the default for 0.8 (<img src="images/smileys/fixme.gif" align="middle" alt="FIXME" /> check), however it seemed to create more confusion then it solved.  Thus 
we have reverted to using &#039;merge&#039; as the default (this then completely mimics Gettext behaviour).
</p>

<p>
As Gettext will soon introduce the msgctxt attribute we may revert to using that to manage disambiguation messages instead of KDE comments.
This we feel will put us back at a good balance of usefulness and usability.  We will only release this when msgctxt version of the Gettext tools are released.
</p>

</div>
<!-- SECTION "Duplicate Merging in PO files - merge now the default" [19925-20869] -->
<h3><a name="properties_files_no_longer_use_escaped_unicode" id="properties_files_no_longer_use_escaped_unicode">.properties files no longer use escaped Unicode</a></h3>
<div class="level3">

<p>

The main use of the .properties converter class is to translate Mozilla files, although .properties files are actually a Java standard.  The old
Mozilla way, and still the Java way, of working with .properties files is to escape any Unicode characters using the \uNNNN convention.  Mozilla
now allows you to use Unicode in UTF-8 encoding for these files.  Thus in 0.9 of the Toolkit we now output UTF-8 encoded properties files. Bug <a href="http://bugs.locamotion.org/show_bug.cgi?id=114" class="interwiki iw_bug" title="http://bugs.locamotion.org/show_bug.cgi?id=114">114</a> tracks the status of this and we hope to add a feature to prop2po to restore the correct Java convention as an option.
</p>

</div>
<!-- SECTION ".properties files no longer use escaped Unicode" [20870-21493] -->
<h2><a name="section11" id="section11">0.8</a></h2>
<div class="level2">

</div>
<!-- SECTION "0.8" [21494-] --></body>
</html>
