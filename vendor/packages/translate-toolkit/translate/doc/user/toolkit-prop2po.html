<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title></title>
  <link rel="stylesheet" media="screen" type="text/css" href="./style.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="./design.css" />
  <link rel="stylesheet" media="print" type="text/css" href="./print.css" />

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<a href=.>start</a></br>



<h1><a name="prop2po_and_po2prop" id="prop2po_and_po2prop">prop2po and po2prop</a></h1>
<div class="level1">

<p>

Convert between Java property files (.properties) and Gettext <acronym title="Gettext Portable Object">PO</acronym> format.
</p>

<p>
Note: this tool completely eliminates the need for <a href="toolkit-prop2po.html#doing_away_with_native2ascii" class="wikilink1" title="toolkit-prop2po.html">native2ascii</a> as po2prop does the correct escaping to the Latin1 encoding that is needed by Java.
</p>

</div>
<!-- SECTION "prop2po and po2prop" [1-300] -->
<h2><a name="usage" id="usage">Usage</a></h2>
<div class="level2">
<pre class="code">prop2po [options] &lt;property&gt; &lt;po&gt;
po2prop [options] -t &lt;template&gt; &lt;po&gt; &lt;property&gt;</pre>

<p>

Where:
</p>
<table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> &lt;property&gt;   </td><td class="col1 leftalign"> is a directory containing property files or an individual property file  </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> &lt;po&gt;         </td><td class="col1 leftalign"> is a directory containing <acronym title="Gettext Portable Object">PO</acronym> files and an individual property file  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> &lt;template&gt;   </td><td class="col1 leftalign"> is a directory of template property files or a single template property file  </td>
	</tr>
</table>

<p>

Options (prop2po):
</p>
<table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> --version            </td><td class="col1 leftalign"> show program&#039;s version number and exit  </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> -h, --help           </td><td class="col1 leftalign"> show this help message and exit  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> --manpage            </td><td class="col1 leftalign"> output a manpage based on the help  </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <a href="toolkit-progress_progress.html" class="wikilink1" title="toolkit-progress_progress.html">--progress=PROGRESS</a>  </td><td class="col1 leftalign"> show progress as: dots, none, bar, names, verbose  </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <a href="toolkit-errorlevel_errorlevel.html" class="wikilink1" title="toolkit-errorlevel_errorlevel.html">--errorlevel=ERRORLEVEL</a>  </td><td class="col1 leftalign"> show errorlevel as: none, message, exception, traceback  </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> -iINPUT, --input=INPUT   </td><td class="col1 leftalign"> read from INPUT in properties format  </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> -xEXCLUDE, --exclude=EXCLUDE  </td><td class="col1 leftalign"> exclude names matching EXCLUDE from input paths  </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> -oOUTPUT, --output=OUTPUT  </td><td class="col1 leftalign"> write to OUTPUT in po, pot formats  </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> -tTEMPLATE, --template=TEMPLATE   </td><td class="col1 leftalign"> read from TEMPLATE in properties format  </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <a href="toolkit-psyco_mode.html" class="wikilink1" title="toolkit-psyco_mode.html">--psyco=MODE</a>         </td><td class="col1 leftalign"> use psyco to speed up the operation, modes: none, full, profile  </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> -P, --pot            </td><td class="col1 leftalign"> output <acronym title="Gettext Portable Object">PO</acronym> Templates (.pot) rather than <acronym title="Gettext Portable Object">PO</acronym> files (.po)  </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <a href="toolkit-personality_type.html" class="wikilink1" title="toolkit-personality_type.html">--personality=TYPE</a>   </td><td class="col1 leftalign"> set the input behaviour: java (default), mozilla  </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <a href="toolkit-duplicates_duplicatestyle.html" class="wikilink1" title="toolkit-duplicates_duplicatestyle.html">--duplicates=DUPLICATESTYLE</a>  </td><td class="col1 leftalign"> what to do with duplicate strings (identical source text): merge (default), msgid_comment, msgctxt, keep, msgid_comment_all  </td>
	</tr>
</table>

<p>

Options (po2prop):
</p>
<table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> --version            </td><td class="col1 leftalign"> show program&#039;s version number and exit  </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> -h, --help           </td><td class="col1 leftalign"> show this help message and exit  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> --manpage            </td><td class="col1 leftalign"> output a manpage based on the help  </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <a href="toolkit-progress_progress.html" class="wikilink1" title="toolkit-progress_progress.html">--progress=PROGRESS</a>  </td><td class="col1 leftalign"> show progress as: dots, none, bar, names, verbose  </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <a href="toolkit-errorlevel_errorlevel.html" class="wikilink1" title="toolkit-errorlevel_errorlevel.html">--errorlevel=ERRORLEVEL</a>  </td><td class="col1 leftalign"> show errorlevel as: none, message, exception, traceback   </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> -iINPUT, --input=INPUT   </td><td class="col1 leftalign"> read from INPUT in po, pot formats  </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> -xEXCLUDE, --exclude=EXCLUDE  </td><td class="col1 leftalign"> exclude names matching EXCLUDE from input paths  </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> -oOUTPUT, --output=OUTPUT  </td><td class="col1 leftalign"> write to OUTPUT in properties format  </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> -tTEMPLATE, --template=TEMPLATE  </td><td class="col1 leftalign"> read from TEMPLATE in properties format  </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <a href="toolkit-psyco_mode.html" class="wikilink1" title="toolkit-psyco_mode.html">--psyco=MODE</a>         </td><td class="col1 leftalign"> use psyco to speed up the operation, modes: none, full, profile  </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <a href="toolkit-personality_type.html" class="wikilink1" title="toolkit-personality_type.html">--personality=TYPE</a>   </td><td class="col1 leftalign"> set the output behaviour: java (default), mozilla  </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> --fuzzy              </td><td class="col1 leftalign"> use translations marked fuzzy  </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> --nofuzzy            </td><td class="col1 leftalign"> don&#039;t use translations marked fuzzy (default)  </td>
	</tr>
</table>

</div>
<!-- SECTION "Usage" [301-2821] -->
<h2><a name="examples" id="examples">Examples</a></h2>
<div class="level2">

<p>

These examples demonstrate most of the useful invocations of prop2po:
</p>

</div>
<!-- SECTION "Examples" [2822-2914] -->
<h3><a name="creating_pot_files" id="creating_pot_files">Creating POT files</a></h3>
<div class="level3">
<pre class="code">prop2po -P properties pot</pre>

<p>

Extract messages from <em>properties</em> directory and place them in a directory called <em>pot</em>.  The -P option ensures that we create <acronym title="Gettext Portable Object Template">POT</acronym> files instead of <acronym title="Gettext Portable Object">PO</acronym> files.

</p>
<pre class="code">prop2po -P file.properties file.pot</pre>

<p>

Extract messages from <em>file.properties</em> and place them in <em>file.pot</em>.
</p>

</div>
<!-- SECTION "Creating POT files" [2915-3250] -->
<h3><a name="creating_po_files_from_existing_work" id="creating_po_files_from_existing_work">Creating PO files from existing work</a></h3>
<div class="level3">
<pre class="code">prop2po --duplicates=msgctxt -t reference zu zu-po</pre>

<p>

Extract all existing Zulu messages from <em>zu</em> directory and place the resultant <acronym title="Gettext Portable Object">PO</acronym> files in a directory called <em>zu-po</em>.  If you find duplicate messages in a file then use Gettext&#039;s mgsctxt to disambiguate them.  During the merge we use the .properties files in <em>reference</em> as templates and as the source of the English text for the msgid.  Once you have your <acronym title="Gettext Portable Object">PO</acronym> files you might want to use <a href="toolkit-pomigrate2.html" class="wikilink1" title="toolkit-pomigrate2.html">pomigrate2</a> to ensure that your <acronym title="Gettext Portable Object">PO</acronym> files match the latest <acronym title="Gettext Portable Object Template">POT</acronym> files.
</p>

</div>
<!-- SECTION "Creating PO files from existing work" [3251-3820] -->
<h3><a name="creating_.properties_files_from_your_translations" id="creating_.properties_files_from_your_translations">Creating .properties files from your translations</a></h3>
<div class="level3">
<pre class="code">po2prop -t reference zu-po zu</pre>

<p>

Using our translations found in <em>zu-po</em> and the templates found in <em>reference</em> we create a new set of property files in <em>zu</em>.  These new property files will look exactly like those found in the templates, but with the text changed to the translation.  Any fuzzy entry in our <acronym title="Gettext Portable Object">PO</acronym> files will be ignored and any untranslated item will be placed in <em>zu</em> in English.  The .properties file created will be based on the Java specification and will thus use escaped Unicode.  Where

</p>
<pre class="code">ṽḁḽṻḝ</pre>

<p>

Will appear in the files as:

</p>
<pre class="code">\u1E7D\u1E01\u1E3D\u1E7B\u1E1D</pre>

<p>

To get output as used by Mozilla localisation do the following:

</p>
<pre class="code">po2prop --personality=mozilla -t reference zu-po zu</pre>

<p>

This will do exactly the same as above except that the output will now appear as real Unicode characters in UTF-8 encoding.
</p>

</div>
<!-- SECTION "Creating .properties files from your translations" [3821-4725] -->
<h2><a name="doing_away_with_native2ascii" id="doing_away_with_native2ascii">Doing away with native2ascii</a></h2>
<div class="level2">

<p>

The <a href="http://man.cx/native2ascii" class="interwiki iw_man" title="http://man.cx/native2ascii">native2ascii</a> command is the traditional tool of property file localisers.  With prop2po there is no need to use this command or to ever work directly with the escaped Unicode.
</p>

<p>
If you are working mostly with Gettext <acronym title="Gettext Portable Object">PO</acronym> files then this is a double benefit as you can now use your favourite <acronym title="Gettext Portable Object">PO</acronym> editor to translate Java applications.  Your process would now look like this:

</p>
<pre class="code">prop2po some.properties some.po</pre>

<p>

Firstly create a <acronym title="Gettext Portable Object">PO</acronym> file that you can translate.  Now translate it in your favourite <acronym title="Gettext Portable Object">PO</acronym> editor.

</p>
<pre class="code">po2prop -t some.properties some.po some-other.properties</pre>

<p>

Using the original properties file as a template we preserve all layout and comments, combined with your <acronym title="Gettext Portable Object">PO</acronym> translation we create a new translate properties file.  During this whole process we have not needed to understand or process any escaping prop2po and po2prop handle that all automatically.
</p>

<p>
If you have existing translations you can recover them as follows:

</p>
<pre class="code">prop2po -t some.properties translations.properties translations.po</pre>

<p>

This takes the default English properties file and combines it with your translate properties file and created a <acronym title="Gettext Portable Object">PO</acronym> file.  You now continue translating using your <acronym title="Gettext Portable Object">PO</acronym> file.
</p>

</div>
<!-- SECTION "Doing away with native2ascii" [4726-5954] -->
<h2><a name="bugs" id="bugs">Bugs</a></h2>
<div class="level2">

<p>

None known.

</p>

</div>
<!-- SECTION "Bugs" [5955-] --></body>
</html>
