<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title></title>
  <link rel="stylesheet" media="screen" type="text/css" href="./style.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="./design.css" />
  <link rel="stylesheet" media="print" type="text/css" href="./print.css" />

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<a href=.>start</a></br>



<h1><a name="txt2po_and_po2txt" id="txt2po_and_po2txt">txt2po and po2txt</a></h1>
<div class="level1">

<p>

txt2po allows you to use the same principles of <acronym title="Gettext Portable Object">PO</acronym> files with normal text
files.  In <acronym title="Gettext Portable Object">PO</acronym> only items that change are marked fuzzy and only new items need
to be translated, unchanged items remain unchanged for the translation.
</p>

</div>
<!-- SECTION "txt2po and po2txt" [1-260] -->
<h2><a name="usage" id="usage">Usage</a></h2>
<div class="level2">
<pre class="code">txt2po [options] &lt;foo.txt&gt; &lt;foo.po&gt;
po2txt [options] [-t &lt;foo.txt&gt;] &lt;XX.po&gt; &lt;foo-XX.txt&gt;</pre>

<p>

Where:
</p>
<table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> foo.txt    </td><td class="col1 leftalign"> is the input plain text file   </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> foo.po     </td><td class="col1 leftalign"> is an empty <acronym title="Gettext Portable Object">PO</acronym> file that may be translated   </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> XX.po      </td><td class="col1 leftalign"> is a <acronym title="Gettext Portable Object">PO</acronym> file translated into the XX language   </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> foo-XX.txt  </td><td class="col1 leftalign"> is the foo.txt file translated into language XX   </td>
	</tr>
</table>

<p>

Options (txt2po):

</p>
<table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> --version            </td><td class="col1 leftalign"> show program&#039;s version number and exit   </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> -h, --help           </td><td class="col1 leftalign"> show this help message and exit   </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> --manpage            </td><td class="col1 leftalign"> output a manpage based on the help   </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <a href="toolkit-progress_progress.html" class="wikilink1" title="toolkit-progress_progress.html">--progress=PROGRESS</a>  </td><td class="col1 leftalign"> show progress as: dots, none, bar, names, verbose   </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <a href="toolkit-errorlevel_errorlevel.html" class="wikilink1" title="toolkit-errorlevel_errorlevel.html">--errorlevel=ERRORLEVEL</a>   </td><td class="col1 leftalign"> show errorlevel as: none, message, exception, traceback   </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> -iINPUT, --input=INPUT    </td><td class="col1 leftalign"> read from INPUT in *, txt formats   </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> -xEXCLUDE, --exclude=EXCLUDE   </td><td class="col1 leftalign"> exclude names matching EXCLUDE from input paths   </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> -oOUTPUT, --output=OUTPUT  </td><td class="col1 leftalign"> write to OUTPUT in po, pot formats   </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <a href="toolkit-psyco_mode.html" class="wikilink1" title="toolkit-psyco_mode.html">--psyco=MODE</a>         </td><td class="col1 leftalign"> use psyco to speed up the operation, modes: none, full, profile   </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> -P, --pot            </td><td class="col1 leftalign"> output <acronym title="Gettext Portable Object">PO</acronym> Templates (.pot) rather than <acronym title="Gettext Portable Object">PO</acronym> files (.po)   </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> --flavour=FLAVOUR      </td><td class="col1 leftalign"> The flavour of text file: plain (default), dokuwiki, mediawiki  </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> --encoding           </td><td class="col1 leftalign"> encoding of the input file  </td>
	</tr>
</table>

<p>
Options (po2txt):

</p>
<table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> --version            </td><td class="col1 leftalign"> show program&#039;s version number and exit   </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> -h, --help           </td><td class="col1 leftalign"> show this help message and exit   </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> --manpage            </td><td class="col1 leftalign"> output a manpage based on the help   </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <a href="toolkit-progress_progress.html" class="wikilink1" title="toolkit-progress_progress.html">--progress=PROGRESS</a>  </td><td class="col1 leftalign"> show progress as: dots, none, bar, names, verbose   </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <a href="toolkit-errorlevel_errorlevel.html" class="wikilink1" title="toolkit-errorlevel_errorlevel.html">--errorlevel=ERRORLEVEL</a>   </td><td class="col1 leftalign"> show errorlevel as: none, message, exception, traceback   </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> -iINPUT, --input=INPUT    </td><td class="col1 leftalign"> read from INPUT in po, pot formats   </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> -xEXCLUDE, --exclude=EXCLUDE   </td><td class="col1 leftalign"> exclude names matching EXCLUDE from input paths   </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> -oOUTPUT, --output=OUTPUT   </td><td class="col1 leftalign"> write to OUTPUT in txt format   </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> -tTEMPLATE, --template=TEMPLATE   </td><td class="col1 leftalign"> read from TEMPLATE in txt format   </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <a href="toolkit-psyco_mode.html" class="wikilink1" title="toolkit-psyco_mode.html">--psyco=MODE</a>         </td><td class="col1 leftalign"> use psyco to speed up the operation, modes: none, full, profile   </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> -wWRAP, --wrap=WRAP  </td><td class="col1 leftalign"> set number of columns to wrap text at   </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> --fuzzy              </td><td class="col1 leftalign"> use translations marked fuzzy  </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> --nofuzzy            </td><td class="col1 leftalign"> don&#039;t use translations marked fuzzy (default)  </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> --encoding           </td><td class="col1 leftalign"> encoding of the template file  </td>
	</tr>
</table>

</div>
<!-- SECTION "Usage" [261-2630] -->
<h2><a name="a_roundtrip_example" id="a_roundtrip_example">A roundtrip example</a></h2>
<div class="level2">

</div>
<!-- SECTION "A roundtrip example" [2631-2663] -->
<h3><a name="preparing_input_files" id="preparing_input_files">Preparing input files</a></h3>
<div class="level3">

<p>

With <strong>txt2po</strong> a text file is broken down into sections.  Each section is
separated by a line of whitespace.  Each section will appear as a msgid in the
<acronym title="Gettext Portable Object">PO</acronym> file.  Because of this simple method of breaking up the input file it might
be necessary to alter the layout of your input file.  For instance you might
want to separate a heading from a paragraph by using whitespace.
</p>

<p>
For steps in a process you would want to leave a blank line between each step
so that each step can be translated independently.
</p>

<p>
For a list of items you might want to group them together so that a translator
could for example place them in alphabetic order for their translation.
</p>

<p>
Once the input file is prepared you can proceed to the next step.
</p>

</div>
<!-- SECTION "Preparing input files" [2664-3421] -->
<h3><a name="creating_the_pot_files" id="creating_the_pot_files">Creating the POT files</a></h3>
<div class="level3">

<p>

This is simple:

</p>
<pre class="code">txt2po -P TEXT_FILE text_file.pot</pre>

<p>

A translator would copy the <acronym title="Gettext Portable Object Template">POT</acronym> file to their own <acronym title="Gettext Portable Object">PO</acronym> file and then create translations of the entries.  
If you wish to create a <acronym title="Gettext Portable Object">PO</acronym> file and not a <acronym title="Gettext Portable Object Template">POT</acronym> file then leave off the <em>-P</em> option.
</p>

<p>

You might want to manually edit the <acronym title="Gettext Portable Object Template">POT</acronym> file to remove items that should not be
translated.  For instance if part of the document is a license you might want
to remove those if you do not want the license translated for legal reasons.
</p>

</div>
<!-- SECTION "Creating the POT files" [3422-3937] -->
<h3><a name="translating" id="translating">Translating</a></h3>
<div class="level3">

<p>

Translate as normal.  However translators should be aware that writers of the
text file may have used spaces, dashes, equals, underscores and other aids to
indicate things such as:

</p>
<ul>
<li class="level1"><div class="li"> Headings and sub-headings</div>
</li>
<li class="level4"><div class="li"> Code examples, command lines examples</div>
</li>
<li class="level4"><div class="li"> Various lists</div>
</li>
<li class="level4"><div class="li"> etc</div>
</li>
</ul>

<p>

They will need to adapt these to work in their language being aware of how they
will appear once they are merged with the original text document.
</p>

</div>
<!-- SECTION "Translating" [3938-4413] -->
<h3><a name="creating_a_translated_text_file" id="creating_a_translated_text_file">Creating a translated text file</a></h3>
<div class="level3">

<p>

With the translations complete you can create a translated text file like this:

</p>
<pre class="code">po2txt -w 75 -t TEXT_FILE translated.po TEXT_FILE.translated</pre>

<p>

This uses the original text file as a template and creates a new translated text
file using the translations found in the <acronym title="Gettext Portable Object">PO</acronym> file.
</p>

<p>
The <em>-w</em> command allows you to reflow the translated text to <em>N</em> number of
characters, otherwise the text will appear as one long line.
</p>

</div>
<!-- SECTION "Creating a translated text file" [4414-4874] -->
<h2><a name="help_with_wiki_syntax" id="help_with_wiki_syntax">Help with Wiki syntax</a></h2>
<div class="level2">

</div>
<!-- SECTION "Help with Wiki syntax" [4875-4910] -->
<h3><a name="dokuwiki" id="dokuwiki">dokuwiki</a></h3>
<div class="level3">

<p>

To retrieve the raw syntax for your dokuwiki page add &#039;?do=export_raw&#039; to you <acronym title="Uniform Resource Locator">URL</acronym>.  The following would retrieve this current page in raw dokuwiki format <a href="http://translate.sourceforge.net/wiki/toolkit/txt2po?do=export_raw" class="urlextern" title="http://translate.sourceforge.net/wiki/toolkit/txt2po?do=export_raw">http://translate.sourceforge.net/wiki/toolkit/txt2po?do=export_raw</a>

</p>
<pre class="code">wget http://translate.sourceforge.net/wiki/toolkit/txt2po?do=export_raw -O txt2po.txt
txt2po --flavour=dokuwiki -P txt2po.txt txt2po.pot
# edit txt2po.pot
po2txt -t txt2po.txt fr.po fr.txt</pre>

<p>

First we retrieve the file in raw dokuwiki format, then we create a <acronym title="Gettext Portable Object Template">POT</acronym> file for editing.  We created a French translation and using po2txt plus the original file as a template we output fr.txt which is a French version of the original txt2po.txt.  This file can now be uploaded to the wiki server.
</p>

</div>
<!-- SECTION "dokuwiki" [4911-5655] -->
<h3><a name="mediawiki" id="mediawiki">MediaWiki</a></h3>
<div class="level3">

<p>

To retrieve the raw media wiki syntax add &#039;?action=raw&#039; to you wiki <acronym title="Uniform Resource Locator">URL</acronym>.  The following retrieves the Translate Toolkit page from Wikipedia in raw MediaWiki format <a href="http://en.wikipedia.org/wiki/Translate_Toolkit?action=raw" class="urlextern" title="http://en.wikipedia.org/wiki/Translate_Toolkit?action=raw">http://en.wikipedia.org/wiki/Translate_Toolkit?action=raw</a> or <a href="http://en.wikipedia.org/w/index.php?title=Pootle&amp;action=raw" class="urlextern" title="http://en.wikipedia.org/w/index.php?title=Pootle&amp;action=raw">http://en.wikipedia.org/w/index.php?title=Pootle&amp;action=raw</a>.
</p>

<p>
to process follow the instructions above but substituting the MediaWiki retrieval method.

</p>

</div>
<!-- SECTION "MediaWiki" [5656-] --></body>
</html>
