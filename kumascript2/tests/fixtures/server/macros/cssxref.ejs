<%
var uri = Uri.Parts(Page.uri);
var lang = string.toLower(uri.path[0]);
if(string.Contains(lang, "project")) {
  var lang = string.Substr(lang, 8);
} else if (string.StartsWith(lang, "user:")) {
  var lang = page.language;
} 
if(wiki.pageExists(lang  +  '/CSS/'  +  $0)) {
  %><code><%-(web.link(wiki.uri(lang  +  '/CSS/'  +  $0), ($1 || $0)))%></code><%;
} else if (lang == 'zh_tw' && wiki.pageExists('en/CSS/'  +  $0)){
  %><code><%-(web.link(wiki.uri('en/CSS/'  +  $0), ($1 || $0)))%></code><%;  
} else {
  var targeturi = "https://developer.mozilla.org/Article_not_found?uri="  +  lang  +  "/CSS/"  +  $0;
  %><code><a rel="internal" href="<%=targeturi%>" class="new"><%=($1 || $0)%></a></code><%;
}

// See original: https://developer.mozilla.org/Template:cssxref
//
// var uri = Uri.Parts(Page.uri);
// var lang = string.toLower(uri.path[0]);
// if(string.Contains(lang, "project")) {
//   let lang = string.Substr(lang, 8);
// } else if (string.StartsWith(lang, "user:")) {
//   let lang = page.language;
// } 
// if(wiki.pageExists(lang .. '/CSS/' .. $0)) {
//   <code>(web.link(wiki.uri(lang .. '/CSS/' .. $0), ($1 ?? $0)))</code>;
// } else if (lang == 'zh_tw' && wiki.pageExists('en/CSS/' .. $0)){
//   <code>(web.link(wiki.uri('en/CSS/' .. $0), ($1 ?? $0)))</code>;  
// } else {
//   var targeturi = "https://developer.mozilla.org/Article_not_found?uri=" .. lang .. "/CSS/" .. $0;
//   <code><a rel=('internal') href=(targeturi) class=('new')>($1 ?? $0)</a></code>;
// }
%>
